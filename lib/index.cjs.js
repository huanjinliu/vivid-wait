"use strict";function e(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{l(o.next(e))}catch(e){a(e)}}function u(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((o=o.apply(e,t||[])).next())}))}Object.defineProperty(exports,"__esModule",{value:!0});function t(e=0,t,n){var o;let r=0;const a={ease:t=>Math.pow(t/e,4),"ease-in":t=>Math.pow(t/e,2),"ease-in-out":t=>{let n=t/(e/2);return n<1?Math.pow(n,2)/2:-(--n*(n-2)-1)/2},"ease-out":t=>-t/e*(t/e-2),linear:t=>t/e,random:t=>r+Math.pow(Math.random()*(t/e)*(1-r),3)},i=Object.keys(a),u="random"===t?a[i[Math.floor(Math.random()*i.length)]]:null!==(o=a[t])&&void 0!==o?o:a.random;return new Promise((t=>{let o=(new Date).getTime(),a=0;const i=()=>{!function(e){if(requestAnimationFrame)return requestAnimationFrame(e);const t=setTimeout((()=>{e(t),clearTimeout(t)}),16.6)}((()=>{a=(new Date).getTime()-o,r=u(a),a>=e?(null==n||n(1),t(a)):(null==n||n(r),i())}))};i()}))}exports.wait=function(n,o={}){return e(this,void 0,void 0,(function*(){const{mode:e="random",handler:r,onUpdate:a}=o;let i=r?.99:1;const u=r?r():Promise.resolve(),l=yield t(n,e,(e=>{null==a||a(e*i)})),[s]=yield Promise.all([u,l]);return null==a||a(1),s}))};
